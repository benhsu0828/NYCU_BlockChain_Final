# å€å¡Šéˆäº”å­æ£‹ Web ä»‹é¢

é€™æ˜¯ä¸€å€‹åŸºæ–¼å€å¡Šéˆçš„äº”å­æ£‹éŠæˆ² Web ä»‹é¢ï¼Œå¯ä»¥è¦–è¦ºåŒ–é¡¯ç¤ºæ£‹ç›¤ã€å³æ™‚èŠå¤©ï¼Œä¸¦èˆ‡æ™ºèƒ½åˆç´„äº’å‹•ã€‚

## åŠŸèƒ½ç‰¹è‰²

âœ¨ **å®Œæ•´çš„éŠæˆ²ä»‹é¢**
- 15x15 å¯è¦–åŒ–æ£‹ç›¤ï¼Œæ”¯æ´é¼ æ¨™é»æ“Šä¸‹æ£‹
- æ£‹å­æ”¾ç½®é è¦½æ•ˆæœ
- å³æ™‚æ›´æ–°éŠæˆ²ç‹€æ…‹

ğŸ’¬ **èŠå¤©å®¤åŠŸèƒ½**
- éˆä¸ŠèŠå¤©è¨Šæ¯
- å³æ™‚æ¥æ”¶æ–°è¨Šæ¯
- é¡¯ç¤ºæ­·å²èŠå¤©è¨˜éŒ„

ğŸ“Š **éŠæˆ²è³‡è¨Šé¡¯ç¤º**
- ç•¶å‰éŠæˆ²ç‹€æ…‹
- ç©å®¶è³‡è¨Š
- ç§»å‹•æ¬¡æ•¸çµ±è¨ˆ

ğŸ“œ **äº‹ä»¶ç›£è½**
- è‡ªå‹•ç›£è½å€å¡Šéˆäº‹ä»¶
- å³æ™‚æ›´æ–°éŠæˆ²ç‹€æ…‹
- è©³ç´°çš„äº‹ä»¶è¨˜éŒ„

## æª”æ¡ˆçµæ§‹

```
web-ui/
â”œâ”€â”€ index.html      # ä¸»é é¢
â”œâ”€â”€ style.css       # æ¨£å¼è¡¨
â”œâ”€â”€ config.js       # åˆç´„é…ç½®å’Œ ABI
â”œâ”€â”€ app.js          # ä¸»æ‡‰ç”¨é‚è¼¯
â”œâ”€â”€ board.js        # æ£‹ç›¤ç¹ªè£½
â”œâ”€â”€ chat.js         # èŠå¤©å®¤åŠŸèƒ½
â””â”€â”€ README.md       # èªªæ˜æ–‡ä»¶
```

## ä½¿ç”¨æ­¥é©Ÿ

### 1. ç¢ºä¿ Geth ç¯€é»é‹è¡Œ

```bash
# å•Ÿå‹• Docker å®¹å™¨
docker start <container_id>

# é€²å…¥å®¹å™¨
docker exec -it <container_id> /bin/sh

# å•Ÿå‹• Geth
geth --datadir ./ --networkid 11330023 --http --http.addr 0.0.0.0 --http.port 8545 --http.api eth,web3,net,personal --http.corsdomain "*" --http.vhosts "*" --allow-insecure-unlock console
```

### 2. è§£é–å¸³è™Ÿ

åœ¨ Geth console ä¸­ï¼š

```javascript
personal.unlockAccount(eth.accounts[0], "nycu", 0)
personal.unlockAccount(eth.accounts[1], "nycu2", 0)
```

### 3. å•Ÿå‹• Web ä»‹é¢

#### æ–¹å¼ A: ä½¿ç”¨ Python ç°¡æ˜“ä¼ºæœå™¨

```bash
cd web-ui
python3 -m http.server 8000
```

ç„¶å¾Œåœ¨ç€è¦½å™¨æ‰“é–‹: `http://localhost:8000`

#### æ–¹å¼ B: ä½¿ç”¨ Node.js http-server

```bash
npm install -g http-server
cd web-ui
http-server -p 8000 --cors
```

#### æ–¹å¼ C: ç›´æ¥ç”¨ç€è¦½å™¨æ‰“é–‹

```bash
open index.html
```

**æ³¨æ„**: ç›´æ¥æ‰“é–‹å¯èƒ½æœƒé‡åˆ° CORS å•é¡Œï¼Œå»ºè­°ä½¿ç”¨ HTTP ä¼ºæœå™¨ã€‚

### 4. ä½¿ç”¨ä»‹é¢

1. **é¸æ“‡å¸³è™Ÿ**: å¾ä¸‹æ‹‰é¸å–®é¸æ“‡ç©å®¶å¸³è™Ÿ
2. **å‰µå»ºéŠæˆ²**: è¼¸å…¥è³­æ³¨é‡‘é¡ï¼ˆå¯ä»¥æ˜¯ 0ï¼‰ï¼Œé»æ“Šã€Œå‰µå»ºéŠæˆ²ã€
3. **åŸ·è¡ŒæŒ–ç¤¦**: åœ¨ Geth console åŸ·è¡ŒæŒ–ç¤¦å‘½ä»¤ç¢ºèªäº¤æ˜“
   ```javascript
   miner.start(1); admin.sleep(3); miner.stop()
   ```
4. **åŠ å…¥éŠæˆ²**: å¦ä¸€å€‹ç©å®¶è¼¸å…¥éŠæˆ² IDï¼Œé»æ“Šã€ŒåŠ å…¥éŠæˆ²ã€
5. **é–‹å§‹ä¸‹æ£‹**: é»æ“Šæ£‹ç›¤ä¸Šçš„äº¤å‰é»ä¸‹æ£‹
6. **èŠå¤©äº’å‹•**: åœ¨èŠå¤©å®¤è¼¸å…¥è¨Šæ¯èˆ‡å°æ‰‹äº¤æµ

## æŒ–ç¤¦å‘½ä»¤å¿«é€Ÿåƒè€ƒ

æ¯æ¬¡ç™¼é€äº¤æ˜“å¾Œï¼Œéƒ½éœ€è¦åœ¨ Geth console åŸ·è¡Œï¼š

```javascript
miner.start(1); admin.sleep(3); miner.stop()
```

æˆ–ä½¿ç”¨ä»‹é¢ä¸Šçš„ã€Œè¤‡è£½å‘½ä»¤ã€æŒ‰éˆ•ã€‚

## å¸¸è¦‹å•é¡Œ

### Q1: ç„¡æ³•é€£æ¥åˆ°å€å¡Šéˆç¯€é»

**A**: æª¢æŸ¥ï¼š
- Geth æ˜¯å¦æ­£åœ¨é‹è¡Œ
- HTTP RPC æ˜¯å¦å•Ÿç”¨ï¼ˆ`--http` åƒæ•¸ï¼‰
- CORS è¨­å®šæ˜¯å¦æ­£ç¢ºï¼ˆ`--http.corsdomain "*"`ï¼‰
- é˜²ç«ç‰†æ˜¯å¦é˜»æ“‹ 8545 åŸ 

### Q2: äº¤æ˜“ç™¼é€å¾Œæ²’æœ‰åæ‡‰

**A**: å¿…é ˆåŸ·è¡ŒæŒ–ç¤¦å‘½ä»¤ä¾†æ‰“åŒ…äº¤æ˜“ï¼š
```javascript
miner.start(1); admin.sleep(3); miner.stop()
```

### Q3: å¸³è™Ÿæœªè§£é–

**A**: åœ¨ Geth console è§£é–å¸³è™Ÿï¼š
```javascript
personal.unlockAccount(eth.accounts[0], "nycu", 0)
```

### Q4: ä¸‹æ£‹æ™‚å‡ºç¾ "Not your turn" éŒ¯èª¤

**A**: 
- ç¢ºèªç•¶å‰è¼ªåˆ°ä½ ä¸‹æ£‹
- æª¢æŸ¥ä¸Šä¸€å€‹äº¤æ˜“æ˜¯å¦å·²ç¶“è¢«æŒ–ç¤¦ç¢ºèª
- é‡æ–°è¼‰å…¥éŠæˆ²ç‹€æ…‹

### Q5: èŠå¤©è¨Šæ¯æ²’æœ‰é¡¯ç¤º

**A**: 
- æª¢æŸ¥äº‹ä»¶ç›£è½æ˜¯å¦æ­£å¸¸
- ç¢ºèªèŠå¤©äº¤æ˜“å·²è¢«æŒ–ç¤¦
- å˜—è©¦é‡æ–°è¼‰å…¥éŠæˆ²

## æŠ€è¡“ç´°ç¯€

### ä½¿ç”¨çš„æŠ€è¡“

- **Web3.js**: èˆ‡ä»¥å¤ªåŠå€å¡Šéˆäº’å‹•
- **HTML5 Canvas**: ç¹ªè£½æ£‹ç›¤å’Œæ£‹å­
- **åŸç”Ÿ JavaScript**: ç„¡æ¡†æ¶ä¾è³´
- **CSS3**: ç¾ä»£åŒ– UI è¨­è¨ˆ

### åˆç´„äº’å‹•

æ‰€æœ‰åˆç´„æ–¹æ³•éƒ½é€šé Web3.js å‘¼å«ï¼š

```javascript
// å‰µå»ºéŠæˆ²
await contract.methods.createGame().send({
    from: currentAccount,
    value: betAmount,
    gas: 3000000
});

// ä¸‹æ£‹
await contract.methods.makeMove(gameId, x, y).send({
    from: currentAccount,
    gas: 3000000
});

// ç™¼é€èŠå¤©
await contract.methods.sendChat(gameId, message).send({
    from: currentAccount,
    gas: 3000000
});
```

### äº‹ä»¶ç›£è½

è‡ªå‹•ç›£è½ä»¥ä¸‹äº‹ä»¶ï¼š
- `MoveMade`: ç©å®¶ä¸‹æ£‹
- `GameEnded`: éŠæˆ²çµæŸ
- `PlayerJoined`: ç©å®¶åŠ å…¥
- `ChatSent`: èŠå¤©è¨Šæ¯

## è‡ªè¨‚é…ç½®

ç·¨è¼¯ `config.js` ä¿®æ”¹ï¼š

```javascript
// RPC ç¯€é»åœ°å€
const RPC_URL = "http://localhost:8545";

// åˆç´„åœ°å€
const CONTRACT_ADDRESS = "0xYourContractAddress";

// å¸³è™Ÿåœ°å€
const ACCOUNTS = {
    player1: "0xAddress1",
    player2: "0xAddress2"
};
```

## é–‹ç™¼å»ºè­°

### èª¿è©¦æ¨¡å¼

åœ¨ç€è¦½å™¨ Console ä¸­å¯ä»¥æŸ¥çœ‹ï¼š
- æ‰€æœ‰äº¤æ˜“è©³æƒ…
- äº‹ä»¶ç›£è½ç‹€æ…‹
- éŒ¯èª¤è¨Šæ¯

### æ“´å±•åŠŸèƒ½

å¯ä»¥æ·»åŠ çš„åŠŸèƒ½ï¼š
- æ‚”æ£‹åŠŸèƒ½
- éŠæˆ²å›æ”¾
- å‹ç‡çµ±è¨ˆ
- æ’è¡Œæ¦œ
- æ›´å¤šèŠå¤©è¡¨æƒ…

## æˆæ¬Š

MIT License

## è¯çµ¡è³‡è¨Š

å¦‚æœ‰å•é¡Œï¼Œè«‹åƒè€ƒä¸»å°ˆæ¡ˆ README æˆ–æŸ¥é–± Solidity åˆç´„æ–‡ä»¶ã€‚
